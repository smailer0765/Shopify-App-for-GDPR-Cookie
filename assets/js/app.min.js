var $=jQuery.noConflict();!function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery"],a):"undefined"!=typeof exports?module.exports=a(require("jquery")):a(jQuery)}(function($){"use strict";var a={};(a=function(a,b){var _=this;_.MainDomain="https://shopify-gdpr-app.stagebit.com",_.ModalsOverlay="modals-overlay",_.Show="_show",_.init(!0)}).prototype.init=function(a){this.windowonload(),this.customSetting(),this.allowsetting(),this.denysetting(),this.add_overlay_table(),this.amgdprcookie_options(),this.add_overlay_setting()},a.prototype.customSetting=function(){var _=this;$(document).on("click","#custom_setting",function(){_.Open_setting_popup()})},a.prototype.allowsetting=function(){var _=this;$(document).on("click","#allow_setting",function(){_.Accept_cookie()})},a.prototype.denysetting=function(){var _=this;$(document).on("click","#deny_setting",function(){_.Decline_cookies()})},a.prototype.amgdprcookie_options=function(){var _=this;$(document).on("click",".amgdprcookie-options",function(){var a=jQuery(this),b=a.data("groupid"),c=a.data("title"),d=a.data("description");_.Cookie_options_click(b,c,d)})},a.prototype.add_overlay_setting=function(){var _=this;$(document).on("click","#add_overlay_setting",function(){$(this).toggleClass(_.ModalsOverlay),jQuery("aside.modal-popup.gdpr-cookie-container_setup-modal").toggleClass(_.Show)})},a.prototype.add_overlay_table=function(){var _=this;jQuery(document).on("click","#add_overlay_table",function(){$(this).toggleClass(_.ModalsOverlay),jQuery("aside.modal-popup.gdpr-cookie-container_cookie-table1").toggleClass(_.Show)})},a.prototype.windowonload=function(){var b,c,a,d=[],e=document.cookie.split(";"),f=0;for(var g in e)!isNaN(g)&&(d[f]=e[g].split("=")[0],f++);d.map(a=>a.replace(/\s/g,"")),b=this.MainDomain+"/banner/getBannerAjax",c=Shopify.shop,"info_allow_cookie_btn"!=(a=this.metiz_read_cookie("DisableBanner"))&&"info_decline_cookie_btn"!=a&&"info_accept_cookie_btn"!=a&&"customize"!=a&&$.ajax({type:"POST",url:b,data:{shop_url:c},async:1,success:function(g){var c=1,d=$.parseJSON(g),a=d.banner_data,b=d.eu_countries,e=d.cookies_scan_data;if(a.shop_id,"1"!==a.eBannerEnable)return!1;if(1==a.showOnlyInEurope){var h=$.ajax({url:"https://ipinfo.io",type:"GET",async:!1,dataType:"json"});visitor=$.parseJSON(h.responseText),c=!!b.hasOwnProperty(visitor.country)}else c=!0;for(var i=" Allow_cookie=",j=" Deny_cookie=",f=document.cookie.split(";"),b=0;b<f.length;b++){var e=f[b];(0==e.indexOf(i)||0==e.indexOf(j))&&(c=!1)}1==c&&(a.iCookieExpireTime,a.deny_enable,$("head").append('<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js" integrity="sha512-3j3VU6WC5rPQB4Ld1jnLV7Kd5xr+cq9avvhwqzbH/taCRNURoeEpoPBK9pDyeukwSxwRPJ8fDgvYXd6SkaZ2TA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>'),$("head").append('<link rel="stylesheet" href="'+a.front_css_link_setting+'" type="text/css" />'),$("body").append(a.store_front_html),$(".cookiebuttonbackcolor").css("background-color","#"+a.cookie_button_back_color),$(".cookie_p_fontcolor").css("color","#"+a.cookie_fontcolor),$(".cookie_p_font_size").css("font-size",a.cookie_font_size+"px"),$("p:last-child").css("margin","0"),a.vCustomCss)}})},a.prototype.metiz_read_cookie=function(e){for(var c=escape(e)+"=",d=document.cookie.split(";"),b=0;b<d.length;b++){for(var a=d[b];" "==a.charAt(0);)a=a.substring(1,a.length);if(0==a.indexOf(c))return unescape(a.substring(c.length,a.length))}return null},a.prototype.Decline_cookies=function(){var _=this,a=_.MainDomain+"/banner/GetCookieData";_.MainDomain;var b=Shopify.shop;$.ajax({type:"POST",url:a,data:{cookie_shop_url:b},async:1,success:function(b){$.parseJSON(b);var a=new Date;a.setTime(a.getTime()+864e5),a.toGMTString(),document.cookie="Deny_cookie=; expires=Thu, 01 Jan 2030 00:00:00 UTC; path=/;",$("#add_overlay_cookie").toggleClass(_.ModalsOverlay),$(".amgdprcookie-bar-template.-popup").toggleClass(_.Show)}})},a.prototype.Accept_cookie=function(){var _=this,a=_.MainDomain+"/banner/GetCookieData";_.MainDomain;var b=Shopify.shop;$.ajax({type:"POST",url:a,data:{cookie_shop_url:b},async:1,success:function(b){$.parseJSON(b);var a=new Date;a.setTime(a.getTime()+864e5),a.toGMTString(),document.cookie="Allow_cookie=; expires=Thu, 01 Jan 2070 00:00:00 UTC; path=/;",$("#add_overlay_cookie").toggleClass(_.ModalsOverlay),$(".amgdprcookie-bar-template.-popup").toggleClass(_.Show)}})},a.prototype.Open_setting_popup=function(){var _=this,a=_.MainDomain+"/banner/GetCookiePopup",b=Shopify.shop;$.ajax({type:"POST",url:a,data:{shop_url:b},async:1,success:function(a){var b=$.parseJSON(a);_.Open_setting_up(b)},complete:function(){$(".-settings .amgdprcookie-done").click(function(){_.Accept_cookie(),$("#add_overlay_setting").toggleClass(_.ModalsOverlay),$("aside.modal-popup.gdpr-cookie-container_setup-modal").toggleClass(_.Show)})}})},a.prototype.Cookie_options_click=function(a,b,c){var _=this,d=_.MainDomain+"/banner/GetInfoPopup",e=Shopify.shop;$.ajax({url:d,type:"POST",data:{groupid:a,title:b,description:c,shop_url:e},success:function(a){var b=$.parseJSON(a);$("#final_cookie_popup").html(b.html),$("#add_overlay_table").toggleClass(_.ModalsOverlay),$("aside.modal-popup.gdpr-cookie-container_cookie-table1").toggleClass(_.Show)},complete:function(){$(".modal-footer .amgdprcookie-done").click(function(){_.Accept_cookie(),$("#add_overlay_setting").toggleClass(_.ModalsOverlay),$("#add_overlay_table").toggleClass(_.ModalsOverlay),$("aside.modal-popup.gdpr-cookie-container_setup-modal").toggleClass(_.Show),$("aside.modal-popup.gdpr-cookie-container_cookie-table1").toggleClass(_.Show)})}})},a.prototype.Open_setting_up=function(a){$("body aside").hasClass("gdpr-cookie-container_setup-modal")?($("#add_overlay_setting").toggleClass(this.ModalsOverlay),$("aside.modal-popup.gdpr-cookie-container_setup-modal").toggleClass(this.Show)):($("body").append(a.html),$("#add_overlay_setting").addClass(this.ModalsOverlay),$("aside.modal-popup.gdpr-cookie-container_setup-modal").addClass(this.Show))},$.fn.gdprCookies=function(){var b,d,_=this,c=arguments[0],e=Array.prototype.slice.call(arguments,1),f=_.length;for(b=0;b<f;b++)if("object"==typeof c|| void 0===c?_[b].gdprCookies=new a(_[b],c):d=_[b].gdprCookies[c].apply(_[b].gdprCookies,e),void 0!==d)return d;return _}}),$(document).ready(function(){$("body").gdprCookies()})